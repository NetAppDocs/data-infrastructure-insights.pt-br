---
sidebar: sidebar 
permalink: task_dc_brocade_fc_switch.html 
keywords: data collector, Brocade, FC switch, 
summary: Configurando o coletor de dados dos switches Brocade FC. 
---
= Coletor de dados do Brocade FC Switch
:hardbreaks:
:allow-uri-read: 


[role="lead"]
O Data Infrastructure Insights usa a fonte de dados Brocade FC Switch (SSH) para descobrir o inventário de dispositivos Brocade ou switches renomeados que executam o firmware Factored Operating System (FOS) 4.2 e posterior.  Dispositivos nos modos FC switch e Access Gateway são suportados.



== Terminologia

O Data Infrastructure Insights adquire as seguintes informações de inventário do coletor de dados do Brocade FC Switch.  Para cada tipo de ativo adquirido pelo Data Infrastructure Insights, a terminologia mais comum usada para esse ativo é mostrada.  Ao visualizar ou solucionar problemas neste coletor de dados, tenha em mente a seguinte terminologia:

[cols="2*"]
|===
| Termo de Fornecedor/Modelo | Termo de Data Infrastructure Insights 


| Trocar | Trocar 


| Porta | Porta 


| Tecido Virtual, Tecido Físico | Tecido 


| Zona | Zona 


| Interruptor lógico | Interruptor lógico 


| Volume Virtual | Volume 


| Zona LSAN | Zona IVR 
|===
Observação: esses são apenas mapeamentos de terminologia comum e podem não representar todos os casos deste coletor de dados.



== Requisitos

* A Unidade de Aquisição de Data Infrastructure Insights (AU) iniciará conexões com a Porta TCP 22 em switches Brocade para coletar dados de inventário.  A UA também iniciará conexões com a porta UDP 161 para coleta de dados de desempenho.
* Deve haver conectividade IP para todos os switches na malha.  Se você marcar a caixa de seleção Descobrir todos os switches na malha, o Data Infrastructure Insights identificará todos os switches na malha; no entanto, ele precisará de conectividade IP com esses switches adicionais para descobri-los.
* A mesma conta é necessária globalmente em todos os switches da malha.  Você pode usar o PuTTY (emulador de terminal de código aberto) para confirmar o acesso.
* As portas 161 e 162 devem estar abertas para todos os switches na malha para pesquisa de desempenho SNMP.
* String de comunidade SNMP somente leitura




== Configuração

[cols="2*"]
|===
| Campo | Descrição 


| Mudar IP | Endereço IP ou nome de domínio totalmente qualificado do servidor EFC 


| Nome de usuário | Nome de usuário para o switch 


| Senha | Senha para o switch 


| SNMP | Versão SNMP 


| String de comunidade SNMP | String de comunidade SNMP somente leitura usada para acessar o switch 


| Nome de usuário SNMP | Nome de usuário SNMP 


| Senha SNMP | Senha SNMP 
|===


== Configuração avançada

[cols="2*"]
|===
| Campo | Descrição 


| Nome do tecido | Nome do tecido a ser relatado pelo coletor de dados.  Deixe em branco para informar o nome do tecido como WWN. 


| Intervalo de pesquisa de inventário (min) | Intervalo entre pesquisas de inventário.  O padrão é 15. 


| Dispositivos Excluídos | Lista separada por vírgulas de IDs de dispositivos a serem excluídos da pesquisa 


| Domínios de administração ativos | Selecione se estiver usando Domínios de Administração 


| Recuperar dados MPR | Selecione para adquirir dados de roteamento do seu roteador multiprotocolo. 


| Habilitar Trapping | Selecione para habilitar a aquisição ao receber uma interceptação SNMP do dispositivo.  Se você selecionar habilitar interceptação, também deverá ativar o SNMP. 


| Tempo mínimo entre armadilhas (seg) | Tempo mínimo entre tentativas de aquisição acionadas por armadilhas.  O padrão é 10. 


| Descubra todos os interruptores do tecido | Selecione para descobrir todos os switches no fabric 


| Escolha entre HBA e aliases de zona | Escolha se deseja favorecer HBA ou aliases de zona 


| Intervalo de pesquisa de desempenho (seg) | Intervalo entre pesquisas de desempenho.  O padrão é 300. 


| Protocolo de autenticação SNMP | Protocolo de autenticação SNMP (somente SNMP v3) 


| Senha de privacidade SNMP | Senha de privacidade SNMP (somente SNMP v3) 


| Tentativas SNMP | Número de tentativas de repetição SNMP 
|===


== Solução de problemas

Algumas coisas que você pode tentar se tiver problemas com este coletor de dados:



=== Inventário

[cols="2*"]
|===
| Problema: | Experimente isto: 


| A aquisição de inventário da fonte de dados Brocade falha com o erro: <data> <hora> ERRO [com.onaro.sanscreen.acquisition.framework.datasource.BaseDataSource] Erro 2 de 2: <nome da fonte de dados> [Erro interno] - Não é possível gerar o modelo para o dispositivo <IP>.  Erro ao detectar prompt ([Nome do dispositivo <nome>]: Não é possível gerar o modelo para o dispositivo <IP>.  Erro ao detectar prompt) | O problema pode ser causado quando o switch Brocade demora muito para retornar com um prompt, excedendo o tempo limite padrão de 5 segundos.  Nas configurações avançadas do coletor de dados no Data Infrastructure Insights, tente aumentar o _Tempo limite de espera do banner SSH (seg)_ para um valor mais alto. 


| Erro: “O Data Infrastructure Insights recebeu uma função de chassi inválida” | Verifique se o usuário configurado nesta fonte de dados recebeu a permissão de função de chassi. 


| Erro: "Endereço IP do chassi incompatível" | O DII NÃO oferece suporte à tradução de endereços de rede ou tradução de endereços de porta entre a unidade de aquisição e os dispositivos como regra geral.  O DII pode estar detectando que o nome do host/endereço IP na configuração do coletor NÃO corresponde a nenhum dos endereços que o dispositivo acredita ter. 


| Receber uma mensagem de que mais de 1 nó está conectado à porta do Access Gateway | Verifique se o dispositivo NPV está operando corretamente e se todos os WWNs conectados são esperados.  Não adquira o dispositivo NPV diretamente.  Em vez disso, a aquisição do switch de tecido central coletará os dados do dispositivo NPV. 


| Erro: ....Máximo de sessões remotas para login... | O FOS tem limites diferentes para o número de sessões SSH simultâneas suportadas por função de usuário.  A sessão SSH do DII para este dispositivo está sendo rejeitada no login por violar esses limites.  Isso pode ser um sinal de que você tem coletores duplicados descobrindo o mesmo ativo, o que deve ser evitado 
|===


=== Desempenho

[cols="2*"]
|===
| Problema: | Experimente isto: 


| A coleta de desempenho falha com "Tempo limite esgotado durante o envio da solicitação SNMP". | Dependendo das variáveis de consulta e da configuração do switch, algumas consultas podem exceder o tempo limite padrão. link:https://kb.netapp.com/Cloud/ncds/nds/dii/dii_kbs/Data_Infrastructure_Insights_Brocade_data_source_fails_performance_collection_with_a_timeout_due_to_default_SNMP_configuration["Saber mais"] . 


| A coleta de desempenho falha com ...Duplicatas de linha encontradas na tabela SNMP... | O DII detectou respostas SNMP ruins.  Provavelmente você está executando o FOS 8.2.3e.  Atualize para 8.2.3e2 ou superior. 


| As coletas de desempenho falham com ...Nome de usuário desconhecido... | Você configurou seu coletor DII com um valor "Nome de usuário SNMP" que não está alocado em um dos slots de usuário SNMPv3.  Simplesmente criar um usuário no Brocade FOS NÃO o habilita necessariamente como um usuário SNMPv3 - você deve colocá-lo em um dos slots de usuário v3. 


| As coletas de desempenho falham com ...Nível de segurança sem suporte... | Você configurou seu coletor DII para usar SNMPv3, mas com criptografia (também conhecida como privacidade) e/ou configurações de autorização que não estão habilitadas no dispositivo em questão. 


| A coleta de desempenho falha com ...A senha de privacidade vazia é permitida somente para o Protocolo de Privacidade NENHUM | Você configurou seu coletor DII para usar SNMPv3, com uma criptografia também conhecida como protocolo de privacidade (AES, etc.), mas você tem um valor "SNMP Privacy Password" vazio, então o DII não pode negociar fluxos de dados SNMPv3 criptografados com este dispositivo 


| A coleta de desempenho falha com .....VF:nn, erro: Sem acesso... | Você configurou seu coletor DII para usar SNMPv3 em um dispositivo com vários Virtual Fabrics habilitados, mas o usuário SNMPv3 NÃO tem direitos para VF NN.  O DII não oferece suporte à descoberta parcial de um ativo físico - você deve sempre conceder acesso ao DII a todos os 128 VFs possíveis de forma proativa, pois o DII sempre tentará recuperar dados de desempenho para qualquer VF existente em um determinado dispositivo físico. 
|===
Informações adicionais podem ser encontradas emlink:concept_requesting_support.html["Apoiar"] página ou nolink:reference_data_collector_support_matrix.html["Matriz de Suporte ao Coletor de Dados"] .
